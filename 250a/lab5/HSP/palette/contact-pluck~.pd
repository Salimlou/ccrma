#N canvas 332 190 617 272 10;
#X obj 6 7 inlet~;
#X obj 78 9 inlet~;
#X obj 62 68 -~;
#X obj 206 126 biquad~ 0 0 1 -1 0;
#X obj 548 12 block~ 1;
#X obj 7 223 *~ -1;
#X obj 7 246 outlet~;
#X obj 98 248 outlet~;
#X text 459 248 Edgar Berdahl \, Oct 2010;
#X obj 25 130 *~ \$2;
#X msg 206 94 clear;
#X obj 206 54 r clearall;
#X obj 206 75 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 317 57 r \$1;
#X obj 317 80 unpack 0 0;
#X obj 426 58 loadbang;
#X text 467 77 For now assume;
#X text 466 85 this audio sampling rate;
#X obj 426 143 * \$3;
#X obj 441 120 t b f;
#X obj 206 149 *~ 0;
#X text 272 162 Arg 1: Object label;
#X text 272 181 Arg 2: Stiffness in N/m;
#X text 272 198 Arg 3: Damping in N/(m/s);
#X msg 426 81 22050;
#X obj 62 182 *~;
#X obj 134 218 *~;
#X text 132 -2 Contact link that is only active;
#X text 130 9 if the user's position is beyond;
#X text 131 20 the value of argument 4;
#X text 130 34 (Like BUT in Cordis Anima);
#X obj 509 163 edge~;
#N canvas 453 142 737 409 hyst-sw~ 0;
#X obj 44 66 inlet~;
#X obj 354 349 outlet~;
#X text 128 19 Hysteretic switch;
#X obj 300 11 block~ 1;
#X obj -1 305 expr~ $v1 < 0;
#X obj -1 327 edge~;
#X obj -1 382 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 142 270 abs~;
#X text 22 376 Contact starts with sign change \, ends;
#X obj 142 316 edge~;
#X msg 142 339 0;
#X obj 142 293 expr~ $v1 > \$4;
#X msg 169 340 0;
#X text 22 387 when exceed or just fall within that threshold;
#X text 18 282 Old implementation;
#X obj 439 20 delwrite~ \$0hystswitchstate 1;
#X obj 439 40 delread~ \$0hystswitchstate 0;
#X obj 359 105 abs~;
#X obj 359 128 expr~ $v1 < \$4;
#X text 492 157 Stays connected if were previously;
#X text 492 167 connected and we're still beneath;
#X text 492 178 the threshold argument \$4.;
#X obj 387 166 expr~ $v1 && $v2;
#X obj 350 307 expr~ $v1 ^ $v2;
#X obj -11 176 fexpr~ (($x1[0] > 0) && ($x1[-1] <= 0)) || (($x1[0]
<= 0) && ($x1[-1] > 0));
#X text 263 26 so that delwrite/delread;
#X text 263 35 provide a single sample;
#X text 263 44 of delay.;
#X connect 0 0 17 0;
#X connect 0 0 24 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 1 6 0;
#X connect 7 0 11 0;
#X connect 9 0 10 0;
#X connect 9 1 12 0;
#X connect 10 0 6 0;
#X connect 11 0 9 0;
#X connect 12 0 6 0;
#X connect 16 0 22 1;
#X connect 17 0 18 0;
#X connect 18 0 22 0;
#X connect 22 0 23 1;
#X connect 23 0 15 0;
#X connect 23 0 1 0;
#X connect 24 0 23 0;
#X restore 98 139 pd hyst-sw~;
#X text 272 216 Arg 4: Minimum displacement different for contact [m]
;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 2 0 9 0;
#X connect 2 0 32 0;
#X connect 3 0 20 0;
#X connect 5 0 6 0;
#X connect 9 0 25 0;
#X connect 10 0 3 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 14 0 9 1;
#X connect 14 1 19 0;
#X connect 15 0 24 0;
#X connect 18 0 20 1;
#X connect 19 0 18 0;
#X connect 19 1 18 1;
#X connect 20 0 25 0;
#X connect 24 0 18 0;
#X connect 25 0 5 0;
#X connect 25 0 7 0;
#X connect 32 0 25 1;
